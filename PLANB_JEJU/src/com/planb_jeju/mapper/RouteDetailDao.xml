<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.planb_jeju.dao.RouteDetailDao">

	<!-- 전체 수 -->
	<select id="getCount" resultType="Integer">
		
		SELECT COUNT(*)
		FROM route
	</select>
	
	<!-- 멤버 한명 셀렉 -->
	<select id="getRouteDetail" resultType="com.planb_jeju.dto.RouteDetail">
		SELECT *
		FROM route_detail
		WHERE route_order = #{route_order}, username =#{username}, route_code = #{route_code}, route_date = #{route_date}
	</select>
	
	<!-- 삭제 -->
	<delete id="delete">
	 	DELETE route_detail 
		WHERE route_order = #{route_order}, username =#{username}, route_code = #{route_code}, route_date = #{route_date}
	</delete>
	
	<!-- 수정 -->
	<update id="update" >
		UPDATE route_detail 
		SET site=#{site}, 
		    lon=#{lon},
		    lat=#{lat},
		    category=#{category},
		    stime=#{stime},
		    etime=#{etime}
		WHERE route_order = #{route_order}, username =#{username}, route_code = #{route_code}, route_date = #{route_date}
	</update>
	
	<!-- 입력 -->
	<insert id="insert">
		INSERT INTO route_detail(route_order, username, route_code, route_date, site, lon, lat, category, stime, etime)
	    VALUES( NULL, #{username}, #{route_code}, #{route_date}, #{site}, #{lon}, #{lat}, #{category}, #{stime}, #{etime})
	</insert>
	
</mapper>
